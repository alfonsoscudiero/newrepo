<% /* =============================================
  views/inventory/delete-confirm.ejs
  Module 09 - Delete Inventory Item
  Delete Confirmation View
  ============================================= */ %>

<h1><%= title %></h1>

<!-- Flash messages -->
<%- messages() %>

<!-- Server-side validation errors  -->
<% if (errors && errors.length > 0) { %>
  <ul class="notice">
    <% errors.forEach(error => { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<section class="card auth-card">
  <h2>Confirm Deletion</h2>
  <p>The deletion is permanent. Please confirm you want to delete this vehicle.</p>

  <div class="auth-card-wrapper">
    <form
      id="deleteInventoryForm"
      class="form auth-form"
      action="/inv/delete"
      method="post"
    >
      <!-- Hidden primary key: the inventory item to delete -->
      <input type="hidden" name="inv_id" id="inv_id" value="<%= inv_id %>">

      <!-- Make (read-only) -->
      <div class="form-row">
        <label for="inv_make">Make
          <input
            id="inv_make"
            name="inv_make"
            type="text"
            value="<%= inv_make %>"
            readonly
          >
        </label>
      </div>

      <!-- Model (read-only) -->
      <div class="form-row">
        <label for="inv_model">Model
          <input
            id="inv_model"
            name="inv_model"
            type="text"
            value="<%= inv_model %>"
            readonly
          >
        </label>
      </div>

      <!-- Year (read-only) -->
      <div class="form-row">
        <label for="inv_year">Year
          <input
            id="inv_year"
            name="inv_year"
            type="text"
            value="<%= inv_year %>"
            readonly
          >
        </label>
      </div>

      <!-- Price (read-only) -->
      <div class="form-row">
        <label for="inv_price">Price
          <input
            id="inv_price"
            name="inv_price"
            type="text"
            value="<%= inv_price %>"
            readonly
          >
        </label>
      </div>

      <button type="submit" class="btn primary">
        DELETE VEHICLE
      </button>

      <button type="button" class="btn secondary" onclick="window.location.href='/inv'"> CANCEL
      </button>
    </form>
  </div>
</section>
